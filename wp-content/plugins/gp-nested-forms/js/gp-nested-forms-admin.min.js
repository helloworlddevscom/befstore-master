!function(e,r){e=function(){var i=this;i.init=function(){i.$formSelect=r("#gpnf-form"),i.$fieldSelect=r("#gpnf-fields"),i.$formSettings=r("#gpnf-form-settings"),i.$entryLabelSingular=r("#gpnf-entry-label-singular"),i.$entryLabelPlural=r("#gpnf-entry-label-plural"),i.$entryLimitMin=r("#gpnf-entry-limit-min"),i.$entryLimitMax=r("#gpnf-entry-limit-max"),i.$feedProcessing=r("#gpnf-feed-processing"),i.$modalHeaderColor=r("#gpnf-modal-header-color"),r(document).bind("gform_load_field_settings",function(e,l,n){if("form"==l.type){var t=l.gpnfForm;i.$entryLabelSingular.val(l.gpnfEntryLabelSingular),i.$entryLabelPlural.val(l.gpnfEntryLabelPlural),i.$entryLimitMin.val(l.gpnfEntryLimitMin),i.$entryLimitMax.val(l.gpnfEntryLimitMax),i.$feedProcessing.val(i.getFeedProcessingSetting(l)),i.$modalHeaderColor.val(l.gpnfModalHeaderColor),r("#chip_gpnf-modal-header-color").css("background-color",l.gpnfModalHeaderColor),i.$formSelect.val(t);var o=l.gpnfFields?l.gpnfFields:[];i.setFieldsSelect([],o),i.toggleNestedFormFields(o)}}),r("#chooser_gpnf-modal-header-color, #chip_gpnf-modal-header-color").click(function(e){iColorShow(e.pageX-245,e.pageY-57,"gpnf-modal-header-color","gpnfSetModalHeaderColor")}),r().add(i.$entryLabelSingular).add(i.$entryLabelPlural).on("change",function(){RefreshSelectedFieldPreview()})},i.toggleNestedFormFields=function(e){i.$fieldSelect.attr("disabled",!0),i.$formSelect.val()?(i.$formSettings.show(),i.getFormFields(i.$formSelect.val(),e)):i.$formSettings.hide()},i.setFieldsSelect=function(e,l){var n=[];if(!e.length&&l.length)for(var t=0;t<l.length;t++)n.push('<option value="'+l[t]+'">'+l[t]+"</option>");else for(t=0;t<e.length;t++)-1===r.inArray(e[t].type,["page","html","section","captcha"])&&n.push('<option value="'+e[t].id+'">'+GetLabel(e[t])+"</option>");i.$fieldSelect.html(n.join("")).val(l).change(),i.$fieldSelect.hasClass("select2-hidden-accessible")||(void 0!==r.fn.selectWoo?i.$fieldSelect.selectWoo({placeholder:GPNFAdminData.strings.displayFieldsPlaceholder}):i.$fieldSelect.select2({placeholder:GPNFAdminData.strings.displayFieldsPlaceholder}),i.$fieldSelect.on("select2:select select2:unselect",function(){console.log("select unselet two"),RefreshSelectedFieldPreview()}).on("select2:unselecting",function(){var e=r(this).data("select2").options;e.set("disabled",!0),setTimeout(function(){e.set("disabled",!1)},1)}),r.each(i.$fieldSelect.data("select2"),function(e,l){l instanceof jQuery&&l.addClass(void 0!==r.fn.selectWoo?"gpnf-selectwoo":"gpnf-select2")}))},i.getFormFields=function(e,l){r.post(ajaxurl,{action:"gpnf_get_form_fields",nonce:GPNFAdminData.nonces.getFormFields,form_id:e},function(e){i.$formSettings.find("select").attr("disabled",!1),"object"==typeof e?i.setFieldsSelect(e,l):alert(GPNFAdminData.strings.getFormFieldsError)})},i.getFeedProcessingSetting=function(e){return e.gpnfFeedProcessing?e.gpnfFeedProcessing:"parent"},i.init()},window.gpnfSetModalHeaderColor=function(e){SetFieldProperty("gpnfModalHeaderColor",e)},r(document).ready(function(){window.gpGlobals||(window.gpGlobals={}),window.gpGlobals.GPNFAdmin=new e})}(window.GPNFAdmin=window.GPNFAdmin||{},jQuery);
//# sourceMappingURL=gp-nested-forms-admin.js.map