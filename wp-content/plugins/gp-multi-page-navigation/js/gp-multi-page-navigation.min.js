!function(i){window.GPMultiPageNavigation=function(t){var n=this;n.formId=t.formId,n.$formElem=i("form#gform_"+n.formId),n.lastPage=t.lastPage,n.activationType=t.activationType,n.labels=t.labels,n.enableSubmissionFromLastPageWithErrors=t.enableSubmissionFromLastPageWithErrors,n.init=function(){if(n.$formElem.length<=0&&(n.$formElem=i("#gform_wrapper_"+n.formId)),n.$footer=i("#gform_page_"+n.formId+"_"+n.getCurrentPage()+" .gform_page_footer"),n.$saveAndContinueButton=n.$footer.find("a.gform_save_link"),"last_page"!=n.activationType||n.isLastPageReached()){n.$formElem.find(".gf_step").each(function(t){var e=t+1;"progression"==n.activationType&&e>n.getPageProgression()||(e!=n.getCurrentPage()?i(this).html(n.getPageLinkMarkup(e,i(this).html())).addClass("gpmpn-step-linked"):i(this).addClass("gpmpn-step-current"))}),"last_page"==n.activationType&&!n.isLastPage()&&n.isLastPageReached()?n.addBackToLastPageButton():"progression"==n.activationType&&n.getCurrentPage()<n.getPageProgression()?n.addBackToLastPageButton(n.getPageProgression()):"first_page"==n.activationType&&!n.isLastPage()&&n.wasFinalSubmissionAttempted()&&n.addNextPageWithErrorsButton();i(document).on("click","a.gpmpn-page-link, a.gwmpn-page-link, .gpmpn-page-link a",function(t){t.preventDefault();var e=i(this).attr("href").split("#");if(2<=e.length){var a,n=i(this).parents("form"),o=(a=0<(a=0<n.length?n:i(".gform_wrapper form")).length?a:i(".gform_wrapper").parent("form")).attr("id").split("_")[1],r=e.pop();GPMultiPageNavigation.postToPage(r,o,!0)}}),n.$formElem.data("GPMultiPageNavigation",n),window["gpmpn_"+n.formId]=n}},n.getPageLinkMarkup=function(t,e){return'<a href="#'+t+'" class="gwmpn-page-link gwmpn-default gpmpn-page-link gpmpn-default">'+e+"</a>"},n.addBackToLastPageButton=function(t){var e='<input type="button" onclick="GPMultiPageNavigation.postToPage( '+(t=void 0===t?n.lastPage:t)+", "+n.formId+' );" value="'+n.labels.backToLastPage+'" class="button gform_button gform_last_page_button">';n.insertButton(e)},n.addNextPageWithErrorsButton=function(){var t=1<n.getErrorPagesCount()?n.labels.nextPageWithErrors:n.labels.submit,e=1<n.getErrorPagesCount()?"gform_next_page_errors_button":"gform_resubmit_button",a='<input type="button" onclick="GPMultiPageNavigation.postToPage( 0, '+n.formId+' );" value="'+t+'" class="button gform_button '+e+'">';n.getErrorPagesCount()<=1&&!n.enableSubmissionFromLastPageWithErrors?n.addBackToLastPageButton():n.insertButton(a)},n.insertButton=function(t){0<n.$saveAndContinueButton.length?n.$saveAndContinueButton.before(t):n.$footer.append(t)},n.getCurrentPage=function(){return n.currentPage||(n.currentPage=n.$formElem.find("input#gform_source_page_number_"+n.formId).val()),n.currentPage},n.getPageProgression=function(){return parseInt(i("input#gw_page_progression").val())},n.getErrorPagesCount=function(){return n.errorPagesCount||(n.errorPagesCount=n.$formElem.find("input#gw_error_pages_count").val()),n.errorPagesCount},n.isLastPage=function(){return n.getCurrentPage()>=n.lastPage},n.isLastPageReached=function(){return n.isLastPage()||1==n.$formElem.find("input#gw_last_page_reached").val()},n.wasFinalSubmissionAttempted=function(){return 1==n.$formElem.find("input#gw_final_submission_attempted").val()},GPMultiPageNavigation.postToPage=function(t,e,a){var n=i("form#gform_"+e);if(n.find("input#gform_target_page_number_"+e).val(t),a){var o=i('<input type="hidden" name="gw_bypass_validation" id="gw_bypass_validation" value="1" />');n.append(o)}n.find(".gform_page_footer:visible").find('input[type="submit"], input[type="button"]').not(":visible").css({display:"block",visibility:"hidden",position:"absolute"}),i("#gform_submit_button_"+e).appendTo(".gform_page_footer:visible").css({display:"block",visibility:"hidden",position:"absolute"}),n.submit()},n.init()}}(jQuery),window.gformOrigInitSpinner=window.gformInitSpinner,window.gformInitSpinner=function(t,e){void 0!==e&&e||(e=gform.applyFilters("gform_spinner_url",gf_global.spinnerUrl,t));var a=jQuery("#gform_"+t);a.submit(function(){0==jQuery("#gform_ajax_spinner_"+t).length&&a.find(".gform_page_footer").append('<img id="gform_ajax_spinner_'+t+'"  class="gform_ajax_spinner" src="'+e+'" alt="" />')})};
//# sourceMappingURL=gp-multi-page-navigation.js.map